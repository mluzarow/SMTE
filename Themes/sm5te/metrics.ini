# stepmania 5 tournament edition metrics
################################################################################
# welcome to the metrics. this theme is by freem. yes, the freem from SSC.
################################################################################
# copyfreem 2000
# copyright 2012 freemco
# do not reuse anything from this theme without written permission from freemco.
################################################################################

# game metrics #
################################################################################
[Common]
AutoSetStyle=ThemePrefs.Get("AutoSetStyle")

# warning: if you try using DefaultNoteSkinName, you NEED to use a noteskin that
# exists in all modes. I'm not sure if a Lua function works here, but I do not
# care right now. I'll deal with it later.
#DefaultNoteSkinName="midi-note"

#InitialScreen="ScreenInit"
InitialScreen="ScreenPreview1"

[Gameplay]
# important stuff
#ComboIsPerRow=ComboPerRow()
#MinScoreToContinueCombo=ComboContinue()
#MinScoreToMaintainCombo=ComboMaintain()

#MissComboIsPerRow=true
#MaxScoreToIncrementMissCombo='TapNoteScore_Miss'
#MineHitIncrementsMissCombo=false

#AvoidMineIncrementsCombo=false
#ToastyTriggersAt=250

[GameState]
# I don't want to deal with it at the moment
AllowLateJoin=false

[HighScore]
EmptyName="SM5TE"

[PlayerStageStats]
# Original 3.9 Grading, nothing has ever changed here except maybe in sm4 alphas
# never gonna hear this again i swear to GOD
NumGradeTiersUsed=7
GradePercentTier01=1.000000
GradePercentTier02=1.000000
GradePercentTier03=0.930000
GradePercentTier04=0.800000
GradePercentTier05=0.650000
GradePercentTier06=0.450000
GradePercentTier07=-99999.000000

# the only thing separating an AAA from an AAAA is the W2s.
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=true
GradeTier02IsFullCombo=false

[Player]
# this is a hybrid of display and game, but the game part is more important.

# this should only be used in like beat and pop'n
PenalizeTapScoreNone=false
# this depends on the game.
JudgeHoldNotesOnSameRowTogether=false
# do holds add to combo for the duration of the hold?
HoldCheckpoints=IsGame("pump")
# hack for making checkpoints use the tickcounts
CheckpointsUseTickcounts=IsGame("pump")
# deprecated thing
CheckpointsUseTimeSignatures=false
# do checkpoints and taps have separate judgments?
CheckpointsTapsSeparateJudgment=not IsGame("pump")
; "someone misunderstood me" :x -Daisu
CheckpointsFlashOnHold=IsGame("pump")
# does letting go mean you immediately drop the hold?
ImmediateHoldLetGo=not IsGame("pump")
# do you need to step on the hold heads?
RequireStepOnHoldHeads=not IsGame("pump")
# do you need to step on the mines?
RequireStepOnMines=false
# initial hold life
InitialHoldLife=IsGame("pump") and 0.05 or 1
# how much life a hold can have. pump holds have short life.
MaxHoldLife=IsGame("pump") and 0.05 or 1
# does stepping on a roll get you multiple combo?
RollBodyIncrementsCombo=false
# for some reason pump doesn't score missed Holds and Rolls
ScoreMissedHoldsAndRolls=not IsGame("pump")
# instant color combo
PercentUntilColorCombo=0.0
#
ComboStoppedAt=50
#
AttackRunTimeRandom=6
AttackRunTimeMine=7
#
BattleRaveMirror=true
#
MModHighCap=600

# here's the display stuff for later editing
#ReceptorArrowsYStandard=GetTapPosition('Standard')
#ReceptorArrowsYReverse=GetTapPosition('Reverse')
ReceptorArrowsYStandard=-144
ReceptorArrowsYReverse=128
ReceptorNoSinkScoreCutoff=4

JudgmentTransformCommand=%JudgmentTransformCommand
ComboTransformCommand=%ComboTransformCommand

JudgmentOnCommand=
AttackDisplayXOffsetOneSideP1=0
AttackDisplayXOffsetOneSideP2=0
AttackDisplayXOffsetBothSides=0
AttackDisplayY=-70
AttackDisplayYReverse=70
HoldJudgmentYStandard=-90
HoldJudgmentYReverse=90
BrightGhostComboThreshold=100
DrawDistanceBeforeTargetsPixels=SCREEN_HEIGHT
DrawDistanceAfterTargetsPixels=-128
TapJudgmentsUnderField=false
HoldJudgmentsUnderField=false
#ComboUnderField=ComboUnderField()
ComboUnderField=false

# classes and objects #
################################################################################
[SongManager]
NumSongGroupColors=1
SongGroupColor1=color("#FFFFFF")

[BitmapText]
NumRainbowColors=7
RainbowColor1=HSV(0,1,1)
RainbowColor2=HSV((360/7)*1,1,1)
RainbowColor3=HSV((360/7)*2,1,1)
RainbowColor4=HSV((360/7)*3,1,1)
RainbowColor5=HSV((360/7)*4,1,1)
RainbowColor6=HSV((360/7)*5,1,1)
RainbowColor7=HSV((360/7)*6,1,1)

## screen layers ##
################################################################################
[ScreenSystemLayer]
CreditsP1X=(SCREEN_CENTER_X-320)+28
CreditsP1Y=SCREEN_BOTTOM-14
CreditsP1OnCommand=halign,0;shadowlength,1;shadowcolor,color("#222222EE");diffusebottomedge,color("#E8E8E8");diffusetopedge,color("#FFFFFF");
CreditsP2X=(SCREEN_CENTER_X+320)-28
CreditsP2Y=SCREEN_BOTTOM-14
CreditsP2OnCommand=halign,1;shadowlength,1;shadowcolor,color("#222222EE");diffusebottomedge,color("#E8E8E8");diffusetopedge,color("#FFFFFF")

## screen classes and objects ##
################################################################################
[ScreenWithMenuElements]
ShowHeader=true
HeaderX=SCREEN_CENTER_X
HeaderY=SCREEN_TOP
HeaderOnCommand=draworder,90

ShowHeadText=false
HeadTextX=SCREEN_LEFT
HeadTextY=SCREEN_TOP
HeadTextOnCommand=draworder,91;addy,-64;decelerate,0.25;addy,64
HeadTextOffCommand=finishtweening;decelerate,0.25;addy,-64

TimerX=SCREEN_CENTER_X+288
TimerY=SCREEN_TOP+20
TimerOnCommand=halign,1;draworder,91;

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM+20
FooterOnCommand=draworder,90

[MenuTimer]
Text1OnCommand=stopeffect;stoptweening;zoom,28/32;shadowlength,3;diffusebottomedge,color("0.8,0.8,0.8,1");NoStroke

[ScreenOptions]
FooterY=SCREEN_BOTTOM+28

[OptionRow]
TitleOnCommand=shadowlength,0;uppercase,true;wrapwidthpixels,SCREEN_WIDTH*0.25;zoom,(13/24)

[OptionsCursorP1]
Fallback="OptionsCursor"
LeftX=-2
MiddleX=-2
RightX=-2
LeftY=-2
MiddleY=-2
RightY=-2

[OptionsCursorP2]
Fallback="OptionsCursor"
LeftX=2
MiddleX=2
RightX=2
LeftY=2
MiddleY=2
RightY=2

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=-8
MiddleY=-9
RightY=-8

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftX=0
MiddleX=0
RightX=0
LeftY=8
MiddleY=9
RightY=8

[ScreenOptionsMaster]
ConfigKeyJoy="1;together;showoneinrow;"
ConfigKeyJoyDefault=""
ConfigKeyJoy,1="screen,ScreenMapControllers;name,ConfigKeyJoy"

TestInput="1;together;showoneinrow;"
TestInputDefault=""
TestInput,1="screen,ScreenTestInput;name,TestInput"

# player options
EffectsReceptor="4;selectmultiple"
EffectsReceptorDefault="mod,no confusion,no invert,no flip,no mini,no xmode"
EffectsReceptor,1="mod,confusion;name,Confusion"
EffectsReceptor,2="mod,invert;name,Invert"
EffectsReceptor,3="mod,Flip;name,Flip"
EffectsReceptor,4="mod,mini;name,Mini"

EffectsArrow="7;selectmultiple"
EffectsArrowDefault="mod,no drunk,no dizzy,no twirl,no roll,no beat,no tipsy,no tornado,no bumpy"
EffectsArrow,1="mod,drunk;name,Drunk"
EffectsArrow,2="mod,dizzy;name,Dizzy"
EffectsArrow,3="mod,twirl;name,Twirl"
EffectsArrow,4="mod,roll;name,Roll"
EffectsArrow,5="mod,beat;name,Beat"
EffectsArrow,6="mod,tipsy;name,Tipsy"
EffectsArrow,7="mod,bumpy;name,Bumpy"

[ScreenAttract]
ShowHeader=false
ShowFooter=false

# concrete screens #
################################################################################
# MADE BY NAMCO (except this is copyright 2012 FREEM)
[namco]
Fallback="ScreenSplash"
PrevScreen="ScreenInit"
NextScreen="ScreenInit"

ShowHeader=false
ShowFooter=false

ForceTimer=true
TimerSeconds=5
TimerStealth=true

[ScreenInit]
TimerSeconds=5
TimerStealth=true
ShowCreditDisplay=false

[ScreenTitleMenu]
ShowHeader=false
ShowFooter=false
ShowCreditDisplay=false

ChoiceNames="GameStart,GameType,Data,Options,Exit"

ChoiceGameStart="applydefaultoptions;text,Game Start;name,GameStart;screen,"..Branch.GameStart()
ChoiceGameType="text,Game Type;screen,ScreenSelectGame;name,GameType"
ChoiceData="text,Data;name,Data;screen,ScreenDataMain"
ChoiceOptions="screen,ScreenOptionsService;text,Options;name,Options"
ChoiceExit="screen,ScreenExit;text,Exit;name,Exit"
ChoiceJukebox="text,Jukebox;name,Jukebox;screen,ScreenJukeboxMenu"

### display
LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y-32
LogoOnCommand=

VersionInfoX=SCREEN_CENTER_X-222
VersionInfoY=SCREEN_TOP+12

GameInfoX=SCREEN_CENTER_X+310
GameInfoY=SCREEN_TOP+12

CompanyX=SCREEN_CENTER_X
CompanyY=SCREEN_CENTER_Y+184

CopyrightX=SCREEN_CENTER_X
CopyrightY=SCREEN_CENTER_Y+216

ScrollerX=SCREEN_CENTER_X-60
ScrollerY=SCREEN_CENTER_Y+60

#ScrollerY=SCREEN_CENTER_Y+92
#ScrollerOnCommand=pitch,-30

ScrollerTransform=function(self,offset,itemIndex,numItems) self:y((28)*(itemIndex-(numItems-1)/2)); end
ScrollerSecondsPerItem=0
ScrollerNumItemsToDraw=20

[ScreenTitleJoin]
ShowCreditDisplay=true

# todo: re-enable this
#IdleTimeoutSeconds=-1
#IdleTimeoutScreen=Branch.AfterInit()

LogoX=SCREEN_CENTER_X
LogoY=SCREEN_CENTER_Y

ChoiceGameStart="applydefaultoptions;text,Press Start;name,GameStart;screen,"..Branch.GameStart()

########################################
# data section #
[ScreenDataMain]
# this won't be screensplash once implemented
Fallback="ScreenSplash"
Class="ScreenSplash"
PrevScreen=Branch.TitleMenu()
ShowCreditDisplay=false
ShowHeadText=true

# temp:
NextScreen=Branch.TitleMenu()

# records
# rivals [later]

[ScreenRecordsMain]
# local
# online [later]

[ScreenRivalMenu]
# shit.

########################################
# select style/number of players #
[ScreenSelectStyle]
ShowHeadText=true

ChoiceSingle="name,Single;style,single;text,Single;screen,"..Branch.PostStyle()
ChoiceDouble="name,Double;style,double;text,Double;screen,"..Branch.PostStyle()
ChoiceSolo="name,Solo;style,solo;text,Solo;screen,"..Branch.PostStyle()
ChoiceVersus="name,Versus;style,versus;text,Versus;screen,"..Branch.PostStyle()
ChoiceCouple="name,Couple;style,couple;text,Couple;screen,"..Branch.PostStyle()
ChoiceRoutine="name,Routine;style,routine;text,Routine;screen,"..Branch.PostStyle()
ChoiceHalfDouble="name,HalfDouble;style,halfdouble;text,HalfDouble;screen,"..Branch.PostStyle()
Choice5Keys="name,5Keys;style,single5;text,5Keys;screen,"..Branch.PostStyle()
Choice7Keys="name,7Keys;style,single7;text,7Keys;screen,"..Branch.PostStyle()
ChoiceVersus5="name,Versus5;style,versus5;text,Versus5;screen,"..Branch.PostStyle()
ChoiceVersus7="name,Versus7;style,versus7;text,Versus7;screen,"..Branch.PostStyle()
Choice10Keys="name,10Keys;style,double5;text,10Keys;screen,"..Branch.PostStyle()
Choice14Keys="name,14Keys;style,double7;text,14Keys;screen,"..Branch.PostStyle()
ChoiceKB7="name,kb7;style,single;screen,"..Branch.PostStyle()

ShowScroller=true
ScrollerX=SCREEN_CENTER_X
ScrollerY=SCREEN_CENTER_Y
ScrollerOnCommand=
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) \
	self:x( offset*272 ) \
	self:y( math.sin(clamp(math.abs(offset),0,1))*32 ) \
end
ScrollerSecondsPerItem=0.125
LoopScroller=true
WrapScroller=true
WrapCursor=true

[ScreenSelectNumPlayers]
Fallback="ScreenSelectMaster"
PrevScreen=Branch.TitleMenu()
ShowHeadText=true

# unsure how I want this screen to act for the moment!
DoSwitchAnyways=true

DefaultChoice="1P"
ChoiceNames="1P,2P"
Choice1P="applydefaultoptions;name,1P;text,One Player;style,single;screen,"..Branch.PostStyle()
Choice2P="applydefaultoptions;name,2P;text,Two Players;style,versus;screen,"..Branch.PostStyle()

ShowScroller=true
PerChoiceScrollElement=false

ScrollerTransform=function(self,offset,itemIndex,numItems) \
	self:x((272)*(itemIndex-(numItems-1)/2)) \
end

CreditsP1OffCommand=linear,0.2;addy,SCREEN_CENTER_Y
CreditsP2OffCommand=linear,0.2;addy,SCREEN_CENTER_Y

########################################
# select play mode section #
[ScreenSelectPlayMode]
ShowHeadText=true

#ChoiceNames="Regular,Nonstop,Oni"
ChoiceNames="Regular"
DefaultChoice="Regular"
ChoiceRegular="applydefaultoptions;name,Regular;text,HardRegular;playmode,regular;difficulty,hard;screen,ScreenSelectMusic;setenv,sMode,Normal"
ChoiceNonstop="applydefaultoptions;name,Nonstop;text,Nonstop;playmode,nonstop;screen,ScreenSelectCourse;setenv,sMode,Extended"
ChoiceOni="applydefaultoptions;name,Oni;text,Oni;playmode,oni;screen,ScreenSelectCourse;setenv,sMode,Oni"

########################################
# profile load #
[ScreenProfileLoad]
PrevScreen=Branch.TitleMenu()
NextScreen=Branch.PostProfileLoad()
# Is this ok? I'm keeping it.
PrepareScreen=Branch.PostProfileLoad()

########################################
# select music section #
[ScreenSelectMusic]
ShowHeader=true
ShowHeadText=true
HeaderSubtextOnCommand=settext,GetRandomSelMusicQuote()

SelectionInfoX=SCREEN_CENTER_X-168
SelectionInfoY=SCREEN_CENTER_Y-182
SelectionInfoOnCommand=addy,-SCREEN_CENTER_Y;sleep,0.125;linear,0.25;addy,SCREEN_CENTER_Y

#SelectionInfoY=SCREEN_CENTER_Y-174

SongOptionsX=SCREEN_CENTER_X-170
SongOptionsY=SCREEN_CENTER_Y+173
SongOptionsOnCommand=addy,-SCREEN_CENTER_Y;linear,0.25;addy,SCREEN_CENTER_Y

StageDisplayX=SCREEN_CENTER_X-300
StageDisplayY=SCREEN_CENTER_Y-173
StageDisplayOnCommand=addy,-SCREEN_CENTER_Y;linear,0.25;addy,SCREEN_CENTER_Y

SortDisplayX=SCREEN_CENTER_X-36
SortDisplayY=SCREEN_CENTER_Y-173
SortDisplayOnCommand=addy,-SCREEN_CENTER_Y;linear,0.25;addy,SCREEN_CENTER_Y

BannerX=SCREEN_CENTER_X-168
BannerY=SCREEN_CENTER_Y
BannerOnCommand=scaletoclipped,256,80;addx,-SCREEN_CENTER_X;decelerate,0.75;addx,SCREEN_CENTER_X
BannerFrameX=SCREEN_CENTER_X-168
BannerFrameY=SCREEN_CENTER_Y
BannerFrameOnCommand=addx,-SCREEN_CENTER_X;decelerate,0.75;addx,SCREEN_CENTER_X

MusicWheelX=SCREEN_CENTER_X+160
MusicWheelY=SCREEN_CENTER_Y
MusicWheelOnCommand=halign,1;addx,SCREEN_CENTER_X;decelerate,0.75;addx,-SCREEN_CENTER_X
MusicWheelOffCommand=

SegmentDisplayP1X=SCREEN_CENTER_X-168-(16*3.5)
SegmentDisplayP1Y=SCREEN_CENTER_Y-98
SegmentDisplayP1OnCommand=zoomy,0;sleep,0.55;linear,0.2;zoomy,1
SegmentDisplayP2X=SCREEN_CENTER_X-168-(16*3.5)
SegmentDisplayP2Y=SCREEN_CENTER_Y+98
SegmentDisplayP2OnCommand=zoomy,0;sleep,0.55;linear,0.2;zoomy,1

AbsenceDisplayP1X=SCREEN_CENTER_X-168
AbsenceDisplayP1Y=SCREEN_CENTER_Y-89
AbsenceDisplayP1OnCommand=zoomy,0;sleep,0.55;linear,0.2;zoomy,1
AbsenceDisplayP2X=SCREEN_CENTER_X-168
AbsenceDisplayP2Y=SCREEN_CENTER_Y+89
AbsenceDisplayP2OnCommand=zoomy,0;sleep,0.55;linear,0.2;zoomy,1

StatFrameP1X=SCREEN_CENTER_X-168
StatFrameP1Y=SCREEN_CENTER_Y-134
StatFrameP2X=SCREEN_CENTER_X-168
StatFrameP2Y=SCREEN_CENTER_Y+134

StatAreaP1X=SCREEN_CENTER_X-168
StatAreaP1Y=SCREEN_CENTER_Y-134
StatAreaP2X=SCREEN_CENTER_X-168
StatAreaP2Y=SCREEN_CENTER_Y+134

GradeDisplayP1X=SCREEN_CENTER_X-168
GradeDisplayP1Y=SCREEN_CENTER_Y-66
GradeDisplayP2X=SCREEN_CENTER_X-168
GradeDisplayP2Y=SCREEN_CENTER_Y+66

StepsDisplayP1X=SCREEN_CENTER_X-230
StepsDisplayP1Y=SCREEN_CENTER_Y-62
StepsDisplayP2X=SCREEN_CENTER_X-98
StepsDisplayP2Y=SCREEN_CENTER_Y+62

ScoreFormatString="%i"
NullScoreString=""
#--#
ScoreP1X=SCREEN_CENTER_X-38
ScoreP1Y=SCREEN_CENTER_Y-49
ScoreP1OnCommand=halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,1;shadowcolor,BoostColor(PlayerColor(PLAYER_1),0.35);diffusealpha,0;sleep,0.6;linear,0.15;diffusealpha,1
ScoreP2X=SCREEN_CENTER_X-296
ScoreP2Y=SCREEN_CENTER_Y+49
ScoreP2OnCommand=halign,0;diffuse,PlayerColor(PLAYER_2);shadowlength,1;shadowcolor,BoostColor(PlayerColor(PLAYER_2),0.35);diffusealpha,0;sleep,0.6;linear,0.15;diffusealpha,1

### backend elements
[CodeDetector]

[CodeDetectorOnline]

### display elements
[BPMDisplay]

[FadingBanner]

[MusicWheel]
NumWheelItems=17
ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y( offsetFromCenter*40 ); end

ModeMenuChoiceNames="Preferred,Group,Title,Bpm,Popularity,TopGrades,Artist,EasyMeter,MediumMeter,HardMeter,ChallengeMeter,Genre,Length,Recent"

ShowRoulette=false
ShowPortal=true
PortalColor=color("1,1,1,1")

[CourseWheel]

[MusicWheelItem]
SongNameSetCommand=diffuse,color("#FFFFFF")

RouletteX=140
RouletteY=-1
RouletteOnCommand=skewx,-0.1;halign,1;rainbowscroll,true;strokecolor,color("#222222AA");uppercase,true

PortalX=0
PortalY=-1
PortalOnCommand=uppercase,true;shadowlength,1;diffuse,color("#FFFFFFAA")
PortalSetMessageCommand=diffuse,color("#FFFFFFAA")

SectionExpandedX=-144
SectionExpandedY=-2
SectionExpandedOnCommand=zoom,13/24;wrapwidthpixels,292*1.3;halign,0;strokecolor,color("#222222CC")
SectionCollapsedX=-146
SectionCollapsedY=-2
SectionCollapsedOnCommand=zoom,13/24;wrapwidthpixels,292*1.3;halign,0;strokecolor,color("#22222288");

SectionCountX=148
SectionCountY=6
SectionCountOnCommand=halign,1;zoom,16/24;shadowlength,1

SortX=-144
SortY=-2
SortOnCommand=zoom,18/24;halign,0;strokecolor,color("#222222CC");maxwidth,256

GradeP1X=-145.5
GradeP1Y=-1
GradeP2X=146
GradeP2Y=-1
# unsure how this should be set for final
GradesShowMachine=false

[TextBanner]
TitleOnCommand=halign,0;x,-138;shadowlength,1;
SubtitleOnCommand=halign,0;x,-138;shadowlength,1
ArtistOnCommand=valign,1;halign,1;zoom,12/24;x,136;y,14;shadowlength,1;
ArtistPrependString=""
AfterSetCommand=%TextBannerAfterSet

########################################
# player/song options section #
[PlayerOptionsBase]
Fallback="ScreenOptions"
ShowHeadText=true
OptionRowNormalMetricsGroup="PlayerOptionRow"
OptionRowExitMetricsGroup="PlayerOptionRowExit"

NumRowsShown=8
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y((SCREEN_CENTER_Y-146) + (30*offsetFromCenter)) end

SeparateExitRowY=SCREEN_CENTER_Y+96

DisqualifyP1X=SCREEN_CENTER_X-292
DisqualifyP1Y=SCREEN_CENTER_Y+96
DisqualifyP1OnCommand=halign,0
DisqualifyP1OffCommand=
DisqualifyP2X=SCREEN_CENTER_X+292
DisqualifyP2Y=SCREEN_CENTER_Y+96
DisqualifyP2OnCommand=halign,1
DisqualifyP2OffCommand=

ExplanationP1X=SCREEN_CENTER_X-292
ExplanationP1Y=SCREEN_CENTER_Y+116
ExplanationP1OnCommand=align,0,0;diffuse,PlayerColor(PLAYER_1);shadowlength,1;zoom,14/24;wrapwidthpixels,WideScale(SCREEN_CENTER_X*1.4,SCREEN_CENTER_X*1.1)
ExplanationP1OffCommand=
ExplanationP2X=SCREEN_CENTER_X+292
ExplanationP2Y=SCREEN_CENTER_Y+116
ExplanationP2OnCommand=align,1,0;diffuse,PlayerColor(PLAYER_2);shadowlength,1;zoom,14/24;wrapwidthpixels,WideScale(SCREEN_CENTER_X*1.4,SCREEN_CENTER_X*1.1)
ExplanationP2OffCommand=

[ScreenPlayerOptions]
Fallback="PlayerOptionsBase"

LineNames="Speed,Noteskin,Scroll,Persp,Filter,Steps,2,3A,3B,4,5,R,9,10,11,13"
LineSpeed="lua,SpeedMods()"
LineNoteskin="list,NoteSkins"
LineScroll="list,Scroll"
LinePersp="list,Persp"
LineFilter="lua,ScreenFilterOptionRow()"
LineSteps="list,Steps"

Line3A="list,EffectsReceptor"
Line3B="list,EffectsArrow"

[ScreenSongOptions]
ShowHeadText=true
OptionRowNormalMetricsGroup="PlayerOptionRow"
OptionRowExitMetricsGroup="PlayerOptionRowExit"

# [LifeType] Bar/Battery
# [BarDrain] Normal/NoRecover/SuddenDeath
# [BatteryLives] 1-10
# [FailType] Immediate/Delayed/Fail at end/Off
# [Assist] Off/Clap/Metrognome/Both
# [Rates] 0.25,0.5,0.75,0.8,0.9,1.0,1.1,1.2,1.25,1.3,1.5,1.75,2.0,HASTE
# [SoundEffect] REMOVE ME! TE players don't give a fuck!!
# [AutoAdjust] Off/Song/Machine/Tempo
# [Background] Default/Static/Random
# [SaveScores] Off/On

# fuck you sm5
Line4="list,Fail"

NumRowsShown=8
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y((SCREEN_CENTER_Y-146) + (30*offsetFromCenter)) end

SeparateExitRowY=SCREEN_CENTER_Y+96

ExplanationP1X=SCREEN_CENTER_X-292
ExplanationP1Y=SCREEN_CENTER_Y+116
ExplanationP1OnCommand=align,0,0;diffuse,PlayerColor(PLAYER_1);shadowlength,1;zoom,14/24;wrapwidthpixels,WideScale(SCREEN_CENTER_X*1.4,SCREEN_CENTER_X*1.1)
ExplanationP1OffCommand=
ExplanationP2X=SCREEN_CENTER_X+292
ExplanationP2Y=SCREEN_CENTER_Y+116
ExplanationP2OnCommand=align,1,0;diffuse,PlayerColor(PLAYER_2);shadowlength,1;zoom,14/24;wrapwidthpixels,WideScale(SCREEN_CENTER_X*1.4,SCREEN_CENTER_X*1.1)
ExplanationP2OffCommand=

DisqualifyX=SCREEN_CENTER_X
DisqualifyY=SCREEN_CENTER_Y+192
DisqualifyOnCommand=
DisqualifyOffCommand=

[PlayerOptionRow]
Fallback="OptionRow"

TitleX=SCREEN_CENTER_X-196
TitleY=0
TitleOnCommand=halign,1;shadowlength,1;zoom,12/24;strokecolor,color("0.2,0.2,0.2,1")
TitleGainFocusCommand=diffuse,color("1,1,1,1");
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");

ItemsStartX=SCREEN_CENTER_X-180
ItemsEndX=SCREEN_CENTER_X+256

ItemsLongRowP1X=SCREEN_CENTER_X-64
ItemsLongRowP2X=WideScale(SCREEN_CENTER_X+167,SCREEN_CENTER_X+180)
ItemsLongRowSharedX=SCREEN_CENTER_X

ItemsGapX=12
ItemsMinBaseZoom=15/24
ItemOnCommand=zoom,15/24;shadowlength,1

[PlayerOptionRowExit]
Fallback="OptionRowExit"
ItemOnCommand=shadowlength,1;zoom,0.55

########################################
# stageinfo section #
[ScreenStageInformation]
ShowHeader=false
ShowFooter=false
TimerStealth=true

SongDisplayX=SCREEN_CENTER_X
SongDisplayY=SCREEN_CENTER_Y+60

########################################
# gameplay section #
[ScreenGameplay]
NextScreen=Branch.AfterGameplay()

ShowHeader=false
ShowFooter=false

BackgroundOnCommand=scale_or_crop_background

LifeFrameX=SCREEN_CENTER_X
LifeFrameY=SCREEN_TOP
LifeFrameOnCommand=valign,0;draworder,101;addy,-SCREEN_CENTER_Y/2;linear,0.25;addy,SCREEN_CENTER_Y/2

LifeP1X=SCREEN_CENTER_X-108
LifeP1Y=SCREEN_TOP+30
LifeP1OnCommand=draworder,102;addy,-SCREEN_CENTER_Y/2;linear,0.25;addy,SCREEN_CENTER_Y/2
LifeP2X=SCREEN_CENTER_X+108
LifeP2Y=SCREEN_TOP+30
LifeP2OnCommand=draworder,102;zoomx,-1;addy,-SCREEN_CENTER_Y/2;linear,0.25;addy,SCREEN_CENTER_Y/2

SongMeterX=SCREEN_CENTER_X
SongMeterY=SCREEN_TOP+22
SongMeterOnCommand=draworder,102;addy,-SCREEN_CENTER_Y/2;linear,0.25;addy,SCREEN_CENTER_Y/2

NowPlayingX=SCREEN_CENTER_X
NowPlayingY=SCREEN_TOP+40
NowPlayingOnCommand=addy,-SCREEN_CENTER_Y/2;linear,0.25;addy,SCREEN_CENTER_Y/2

StepInfoP1X=SCREEN_CENTER_X-200
StepInfoP1Y=StepInfoYReverseAndScoreFrame(PLAYER_1)
StepInfoP1OnCommand=halign,0;draworder,101;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2
StepInfoP2X=SCREEN_CENTER_X+200
StepInfoP2Y=StepInfoYReverseAndScoreFrame(PLAYER_2)
StepInfoP2OnCommand=halign,1;draworder,101;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2

PlayerOptionsP1X=SCREEN_CENTER_X-300
PlayerOptionsP1Y=OptionsYReverseAndScoreFrame(PLAYER_1)
PlayerOptionsP1OnCommand=halign,0;maxwidth,SCREEN_CENTER_X-24;shadowlength,1;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2
PlayerOptionsP2X=SCREEN_CENTER_X+300
PlayerOptionsP2Y=OptionsYReverseAndScoreFrame(PLAYER_2)
PlayerOptionsP2OnCommand=halign,1;maxwidth,SCREEN_CENTER_X-24;shadowlength,1;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2

ScoreFrameX=SCREEN_CENTER_X
ScoreFrameY=SCREEN_BOTTOM
ScoreFrameOnCommand=draworder,101;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2

#visible,(ThemePrefs.Get("GameplayFooter")~="None");
ScoreP1X=SCREEN_CENTER_X-184
ScoreP1Y=SCREEN_BOTTOM-48
ScoreP1OnCommand=visible,not HideScore();shadowlength,1;zoom,20/32;draworder,102;diffuse,PlayerColor(PLAYER_1);shadowlength,2;shadowcolor,BoostColor(PlayerColor(PLAYER_1),0.5);addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2
ScoreP2X=SCREEN_CENTER_X+216
ScoreP2Y=SCREEN_BOTTOM-48
ScoreP2OnCommand=visible,not HideScore();shadowlength,1;zoom,20/32;draworder,102;diffuse,PlayerColor(PLAYER_2);shadowlength,2;shadowcolor,BoostColor(PlayerColor(PLAYER_2),0.5);addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-22
SongOptionsOnCommand=draworder,102;shadowlength,1;addy,SCREEN_CENTER_Y/2;linear,0.25;addy,-SCREEN_CENTER_Y/2

### display elements
[Background]
# okay I'm being a dick here but I'm pretty sure tournament edition players
# won't be using 3d characters anyways.
ShowDancingCharacters=false

[Combo]
NumberMinZoom=18/32
NumberMaxZoom=28/32
NumberMaxZoomAt=200

NumberOnCommand=y,18;shadowlength,2;align,1,1;diffusebottomedge,color("#B7B7B7");strokecolor,color("#3B3B3B")
LabelOnCommand=x,2;y,22;align,0,1

PulseCommand=stoptweening;
PulseLabelCommand=stoptweening;

[Judgment]
JudgmentW1Command=finishtweening;diffusealpha,1;zoom,1;glow,color("1,1,1,0.5");bounceend,0.15;zoom,1.15;glow,color("1,1,1,0");sleep,1;linear,0.25;diffusealpha,0
JudgmentW2Command=finishtweening;diffusealpha,1;zoom,1;glow,color("1,1,1,0.25");bounceend,0.15;zoom,1.15;glow,color("1,1,1,0");sleep,1;linear,0.25;diffusealpha,0
JudgmentW3Command=finishtweening;diffusealpha,1;zoom,1;glow,color("1,1,1,0.125");bounceend,0.15;zoom,1.15;linear,0.15;glow,color("1,1,1,0");sleep,1;linear,0.25;diffusealpha,0
JudgmentW4Command=finishtweening;diffusealpha,1;zoom,1;bounceend,0.15;zoom,1.15;linear,0.15;sleep,1;linear,0.25;diffusealpha,0
JudgmentW5Command=finishtweening;diffusealpha,1;zoom,1;bounceend,0.15;zoom,1.15;linear,0.15;sleep,1;linear,0.25;diffusealpha,0
JudgmentMissCommand=finishtweening;diffusealpha,1;zoom,1;bounceend,0.15;zoom,1.15;linear,0.15;sleep,1;linear,0.25;diffusealpha,0

[HoldJudgment]
HoldJudgmentHeldCommand=finishtweening;visible,true;diffusealpha,1;zoom,1;linear,0.3;zoom,0.75;sleep,0.5;linear,0.1;zoomy,0.375;zoomx,2;diffusealpha,0
HoldJudgmentLetGoCommand=finishtweening;visible,true;diffusealpha,1;zoom,1;linear,0.3;zoom,0.75;sleep,0.5;linear,0.1;zoomy,0.375;zoomx,2;diffusealpha,0

[LifeMeterBar]
# these should be locked down. they are the defaults from 3.9
LifePercentChangeW1=0.008
LifePercentChangeW2=0.008
LifePercentChangeW3=0.004
LifePercentChangeW4=0.000
LifePercentChangeW5=-0.040
LifePercentChangeMiss=-0.080
LifePercentChangeHitMine=-0.160
LifePercentChangeHeld=0.008
LifePercentChangeLetGo=-0.080
LifePercentChangeCheckpointMiss=-0.002
LifePercentChangeCheckpointHit=0.002

# 3.9+ values from StepMania.ini renamed to SM5 values
#LifeDeltaPercentChangeW1=0.008
#LifeDeltaPercentChangeW2=0.008
#LifeDeltaPercentChangeW3=0.004
#LifeDeltaPercentChangeW4=0.000
#LifeDeltaPercentChangeW5=-0.040
#LifeDeltaPercentChangeMiss=-0.080
#LifeDeltaPercentChangeHitMine=-0.160
#LifeDeltaPercentChangeHeld=0.008
#LifeDeltaPercentChangeLetGo=-0.080

[StreamDisplay]
# stream should be 184x24
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local native_width=184; \
	local zoomed_width=184; \
	self:zoomx(zoomed_width/native_width); \
	self:x((itemIndex-(numItems/2))*zoomed_width); \
end
NumPills=1

[LifeMeterBattery]

[LifeMeterBattery Percent]

[LifeMeterTime]

[NoteField]

[ScoreDisplayNormal]

[RollingNumbers]
TextFormat="%09.0f"
ApproachSeconds=0.01
Commify=false
LeadingZeroMultiplyColor=color("#FFFFFF00")

[ScoreDisplayLifeTime]

[ScoreDisplayPercentage Percent]
PercentP1OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_1)
PercentP2OnCommand=shadowlength,1;diffuse,PlayerColor(PLAYER_2)

[ScoreDisplayRave]

########################################
# evaluation station #
[ScreenEvaluation]
ShowHeadText=true

ShowBannerArea=true
LargeBannerX=SCREEN_CENTER_X-160
LargeBannerY=SCREEN_CENTER_Y-136
LargeBannerOnCommand=scaletoclipped,256,80;addx,-SCREEN_WIDTH;linear,0.5;addx,SCREEN_WIDTH
LargeBannerOffCommand=linear,0.5;addx,-SCREEN_WIDTH
LargeBannerFrameX=SCREEN_CENTER_X-160
LargeBannerFrameY=SCREEN_CENTER_Y-136
LargeBannerFrameOnCommand=addx,-SCREEN_WIDTH;linear,0.5;addx,SCREEN_WIDTH
LargeBannerFrameOffCommand=linear,0.5;addx,-SCREEN_WIDTH

SelectionInfoX=SCREEN_CENTER_X-16
SelectionInfoY=SCREEN_CENTER_Y-136

PrefsInfoX=SCREEN_CENTER_X
PrefsInfoY=SCREEN_CENTER_Y+212
PrefsInfoOnCommand=draworder,102

ShowJudgmentLineW1=true
ShowJudgmentLineW2=true
ShowJudgmentLineW3=true
ShowJudgmentLineW4=true
ShowJudgmentLineW5=true
ShowJudgmentLineMiss=true

ShowJudgmentLineHeld=false
HeldNumberP1X=
HeldNumberP1Y=
HeldNumberP1OnCommand=
HeldNumberP2X=
HeldNumberP2Y=
HeldNumberP2OnCommand=

ShowScoreArea=true
ScoreLabelX=
ScoreLabelY=
ScoreLabelOnCommand=visible,false

DetailLineFormat="%d/%d"

# eval for one player
[ScreenEvaluation1P]
Fallback="ScreenEvaluation"
# every single thing is in the same spot for both sides.

StepInfoP1X=SCREEN_CENTER_X-196
StepInfoP1Y=SCREEN_CENTER_Y-70
StepInfoP1OnCommand=addx,-SCREEN_CENTER_X;linear,0.5;addx,SCREEN_CENTER_X
StepInfoP1OffCommand=linear,0.5;addx,-SCREEN_CENTER_X
StepInfoP2X=SCREEN_CENTER_X-196
StepInfoP2Y=SCREEN_CENTER_Y-70
StepInfoP2OnCommand=addx,-SCREEN_CENTER_X;linear,0.5;addx,SCREEN_CENTER_X
StepInfoP2OffCommand=linear,0.5;addx,-SCREEN_CENTER_X

ShowPointsArea=true
PercentFrameP1X=
PercentFrameP1Y=
PercentFrameP2X=
PercentFrameP2Y=

PercentP1X=SCREEN_CENTER_X-52
PercentP1Y=SCREEN_CENTER_Y-70
PercentP1OnCommand=halign,0;skewx,-0.1;addx,-SCREEN_CENTER_X;linear,0.5;addx,SCREEN_CENTER_X
PercentP1OffCommand=sleep,0.05;linear,0.5;addx,-SCREEN_CENTER_X
PercentP2X=SCREEN_CENTER_X-52
PercentP2Y=SCREEN_CENTER_Y-70
PercentP2OnCommand=halign,0;skewx,-0.1;addx,-SCREEN_CENTER_X;linear,0.5;addx,SCREEN_CENTER_X
PercentP2OffCommand=sleep,0.05;linear,0.5;addx,-SCREEN_CENTER_X

JudgeLabelsX=SCREEN_CENTER_X-124
JudgeLabelsY=SCREEN_CENTER_Y-10

W1NumberP1X=SCREEN_CENTER_X-112
W1NumberP1Y=SCREEN_CENTER_Y-50
W1NumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W1"];strokecolor,BoostColor(JudgeColors["W1"],0.35);shadowlength,2
W1NumberP1OffCommand=sleep,0.15;linear,0.25;addx,-SCREEN_WIDTH
W1NumberP2X=SCREEN_CENTER_X-112
W1NumberP2Y=SCREEN_CENTER_Y-50
W1NumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W1"];strokecolor,BoostColor(JudgeColors["W1"],0.35);shadowlength,2
W1NumberP2OffCommand=sleep,0.15;linear,0.25;addx,-SCREEN_WIDTH

W2NumberP1X=SCREEN_CENTER_X-112
W2NumberP1Y=SCREEN_CENTER_Y-30
W2NumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W2"];strokecolor,BoostColor(JudgeColors["W2"],0.35);shadowlength,2
W2NumberP1OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH
W2NumberP2X=SCREEN_CENTER_X-112
W2NumberP2Y=SCREEN_CENTER_Y-30
W2NumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W2"];strokecolor,BoostColor(JudgeColors["W2"],0.35);shadowlength,2
W2NumberP2OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH

W3NumberP1X=SCREEN_CENTER_X-112
W3NumberP1Y=SCREEN_CENTER_Y-10
W3NumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W3"];strokecolor,BoostColor(JudgeColors["W3"],0.35);shadowlength,2
W3NumberP1OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH
W3NumberP2X=SCREEN_CENTER_X-112
W3NumberP2Y=SCREEN_CENTER_Y-10
W3NumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W3"];strokecolor,BoostColor(JudgeColors["W3"],0.35);shadowlength,2
W3NumberP2OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH

W4NumberP1X=SCREEN_CENTER_X-112
W4NumberP1Y=SCREEN_CENTER_Y+10
W4NumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W4"];strokecolor,BoostColor(JudgeColors["W4"],0.35);shadowlength,2
W4NumberP1OffCommand=sleep,0.3;linear,0.25;addx,-SCREEN_WIDTH
W4NumberP2X=SCREEN_CENTER_X-112
W4NumberP2Y=SCREEN_CENTER_Y+10
W4NumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W4"];strokecolor,BoostColor(JudgeColors["W4"],0.35);shadowlength,2
W4NumberP2OffCommand=sleep,0.3;linear,0.25;addx,-SCREEN_WIDTH

W5NumberP1X=SCREEN_CENTER_X-112
W5NumberP1Y=SCREEN_CENTER_Y+30
W5NumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W5"];strokecolor,BoostColor(JudgeColors["W5"],0.35);shadowlength,2
W5NumberP1OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH
W5NumberP2X=SCREEN_CENTER_X-112
W5NumberP2Y=SCREEN_CENTER_Y+30
W5NumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["W5"];strokecolor,BoostColor(JudgeColors["W5"],0.35);shadowlength,2
W5NumberP2OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH

MissNumberP1X=SCREEN_CENTER_X-112
MissNumberP1Y=SCREEN_CENTER_Y+50
MissNumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["Miss"];strokecolor,BoostColor(JudgeColors["Miss"],0.35);shadowlength,2
MissNumberP1OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH
MissNumberP2X=SCREEN_CENTER_X-112
MissNumberP2Y=SCREEN_CENTER_Y+50
MissNumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["Miss"];strokecolor,BoostColor(JudgeColors["Miss"],0.35);shadowlength,2
MissNumberP2OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH

ShowJudgmentLineMaxCombo=true
MaxComboNumberP1X=SCREEN_CENTER_X-112
MaxComboNumberP1Y=SCREEN_CENTER_Y+70
MaxComboNumberP1OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["MaxCombo"];strokecolor,BoostColor(JudgeColors["MaxCombo"],0.35);shadowlength,2
MaxComboNumberP1OffCommand=sleep,0.15;linear,0.25;addx,-SCREEN_WIDTH
MaxComboNumberP2X=SCREEN_CENTER_X-112
MaxComboNumberP2Y=SCREEN_CENTER_Y+70
MaxComboNumberP2OnCommand=zoom,16/32;halign,0;diffuse,JudgeColors["MaxCombo"];strokecolor,BoostColor(JudgeColors["MaxCombo"],0.35);shadowlength,2
MaxComboNumberP2OffCommand=sleep,0.15;linear,0.25;addx,-SCREEN_WIDTH

ScoreNumberP1X=SCREEN_CENTER_X-150
ScoreNumberP1Y=SCREEN_CENTER_Y+90
ScoreNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);shadowlength,2;zoom,16/32;
ScoreNumberP1OffCommand=linear,0.25;addx,-SCREEN_WIDTH
ScoreNumberP2X=SCREEN_CENTER_X-150
ScoreNumberP2Y=SCREEN_CENTER_Y+90
ScoreNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);shadowlength,2;zoom,16/32
ScoreNumberP2OffCommand=linear,0.25;addx,-SCREEN_WIDTH

DisqualifiedP1X=SCREEN_CENTER_X-150
DisqualifiedP1Y=SCREEN_CENTER_Y+120
DisqualifiedP1OnCommand=
DisqualifiedP1OffCommand=linear,0.25;addx,-SCREEN_WIDTH
DisqualifiedP2X=SCREEN_CENTER_X-150
DisqualifiedP2Y=SCREEN_CENTER_Y+120
DisqualifiedP2OnCommand=
DisqualifiedP2OffCommand=linear,0.25;addx,-SCREEN_WIDTH

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X-28
GradeFrameP1Y=SCREEN_CENTER_Y+80
GradeFrameP2X=SCREEN_CENTER_X-28
GradeFrameP2Y=SCREEN_CENTER_Y+80

GradeP1X=SCREEN_CENTER_X-28
GradeP1Y=SCREEN_CENTER_Y+80
GradeP1OffCommand=linear,0.25;addx,-SCREEN_WIDTH
GradeP2X=SCREEN_CENTER_X-28
GradeP2Y=SCREEN_CENTER_Y+80
GradeP2OffCommand=linear,0.25;addx,-SCREEN_WIDTH

ShowDetailArea=true
#--#
DetailFrameP1X=
DetailFrameP1Y=
DetailFrameP2X=
DetailFrameP2Y=
#--#
DetailLabelsX=SCREEN_CENTER_X+68
DetailLabelsY=SCREEN_CENTER_Y

NumStepsNumberP1X=SCREEN_CENTER_X+78
NumStepsNumberP1Y=SCREEN_CENTER_Y-64
NumStepsNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
NumStepsNumberP1OffCommand=sleep,0.1;linear,0.25;addx,SCREEN_WIDTH
NumStepsNumberP2X=SCREEN_CENTER_X+78
NumStepsNumberP2Y=SCREEN_CENTER_Y-64
NumStepsNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
NumStepsNumberP2OffCommand=sleep,0.1;linear,0.25;addx,SCREEN_WIDTH

JumpsNumberP1X=SCREEN_CENTER_X+78
JumpsNumberP1Y=SCREEN_CENTER_Y-50
JumpsNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
JumpsNumberP1OffCommand=sleep,0.15;linear,0.25;addx,SCREEN_WIDTH
JumpsNumberP2X=SCREEN_CENTER_X+78
JumpsNumberP2Y=SCREEN_CENTER_Y-50
JumpsNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
JumpsNumberP2OffCommand=sleep,0.15;linear,0.25;addx,SCREEN_WIDTH

HoldsNumberP1X=SCREEN_CENTER_X+78
HoldsNumberP1Y=SCREEN_CENTER_Y-36
HoldsNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
HoldsNumberP1OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH
HoldsNumberP2X=SCREEN_CENTER_X+78
HoldsNumberP2Y=SCREEN_CENTER_Y-36
HoldsNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
HoldsNumberP2OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH

MinesNumberP1X=SCREEN_CENTER_X+78
MinesNumberP1Y=SCREEN_CENTER_Y-22
MinesNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
MinesNumberP1OffCommand=sleep,0.25;linear,0.25;addx,SCREEN_WIDTH
MinesNumberP2X=SCREEN_CENTER_X+78
MinesNumberP2Y=SCREEN_CENTER_Y-22
MinesNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
MinesNumberP2OffCommand=sleep,0.25;linear,0.25;addx,SCREEN_WIDTH

HandsNumberP1X=SCREEN_CENTER_X+78
HandsNumberP1Y=SCREEN_CENTER_Y-8
HandsNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
HandsNumberP1OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH
HandsNumberP2X=SCREEN_CENTER_X+78
HandsNumberP2Y=SCREEN_CENTER_Y-8
HandsNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
HandsNumberP2OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH

RollsNumberP1X=SCREEN_CENTER_X+78
RollsNumberP1Y=SCREEN_CENTER_Y+6
RollsNumberP1OnCommand=halign,0;zoom,12/16;shadowlength,2
RollsNumberP1OffCommand=sleep,0.15;linear,0.25;addx,SCREEN_WIDTH
RollsNumberP2X=SCREEN_CENTER_X+78
RollsNumberP2Y=SCREEN_CENTER_Y+6
RollsNumberP2OnCommand=halign,0;zoom,12/16;shadowlength,2
RollsNumberP2OffCommand=sleep,0.15;linear,0.25;addx,SCREEN_WIDTH

# ugh
LiftsNumberP1X=SCREEN_CENTER_X+78
LiftsNumberP1Y=
LiftsNumberP1OnCommand=visible,false
LiftsNumberP2X=SCREEN_CENTER_X+78
LiftsNumberP2Y=
LiftsNumberP2OnCommand=visible,false

FakesNumberP1X=SCREEN_CENTER_X+78
FakesNumberP1Y=
FakesNumberP1OnCommand=visible,false
FakesNumberP2X=SCREEN_CENTER_X+78
FakesNumberP2Y=
FakesNumberP2OnCommand=visible,false

# eval for two players
[ScreenEvaluation2P]
Fallback="ScreenEvaluation"

StepInfoP1X=SCREEN_CENTER_X-150
StepInfoP1Y=SCREEN_CENTER_Y-70
StepInfoP1OnCommand=addx,-SCREEN_CENTER_X;linear,0.5;addx,SCREEN_CENTER_X
StepInfoP1OffCommand=linear,0.5;addx,-SCREEN_CENTER_X
StepInfoP2X=SCREEN_CENTER_X+150
StepInfoP2Y=SCREEN_CENTER_Y-70
StepInfoP2OnCommand=addx,SCREEN_CENTER_X;linear,0.5;addx,-SCREEN_CENTER_X
StepInfoP2OffCommand=linear,0.5;addx,SCREEN_CENTER_X

JudgeLabelsX=SCREEN_CENTER_X
JudgeLabelsY=SCREEN_CENTER_Y-10

W1NumberP1X=SCREEN_CENTER_X-112
W1NumberP1Y=SCREEN_CENTER_Y-50
W1NumberP1OnCommand=halign,0;diffuse,JudgeColors["W1"];strokecolor,BoostColor(JudgeColors["W1"],0.35);shadowlength,2
W1NumberP1OffCommand=sleep,0.15;linear,0.25;addx,-SCREEN_WIDTH
W1NumberP2X=SCREEN_CENTER_X+112
W1NumberP2Y=SCREEN_CENTER_Y-50
W1NumberP2OnCommand=halign,0;diffuse,JudgeColors["W1"];strokecolor,BoostColor(JudgeColors["W1"],0.35);shadowlength,2
W1NumberP2OffCommand=sleep,0.15;linear,0.25;addx,SCREEN_WIDTH

W2NumberP1X=SCREEN_CENTER_X-112
W2NumberP1Y=SCREEN_CENTER_Y-40
W2NumberP1OnCommand=halign,0;diffuse,JudgeColors["W2"];strokecolor,BoostColor(JudgeColors["W2"],0.35);shadowlength,2
W2NumberP1OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH
W2NumberP2X=SCREEN_CENTER_X+112
W2NumberP2Y=SCREEN_CENTER_Y-40
W2NumberP2OnCommand=halign,0;diffuse,JudgeColors["W2"];strokecolor,BoostColor(JudgeColors["W2"],0.35);shadowlength,2
W2NumberP2OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH

W3NumberP1X=SCREEN_CENTER_X-112
W3NumberP1Y=SCREEN_CENTER_Y-30
W3NumberP1OnCommand=halign,0;diffuse,JudgeColors["W3"];strokecolor,BoostColor(JudgeColors["W3"],0.35);shadowlength,2
W3NumberP1OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH
W3NumberP2X=SCREEN_CENTER_X+112
W3NumberP2Y=SCREEN_CENTER_Y-30
W3NumberP2OnCommand=halign,0;diffuse,JudgeColors["W3"];strokecolor,BoostColor(JudgeColors["W3"],0.35);shadowlength,2
W3NumberP2OffCommand=sleep,0.25;linear,0.25;addx,SCREEN_WIDTH

W4NumberP1X=SCREEN_CENTER_X-112
W4NumberP1Y=SCREEN_CENTER_Y-20
W4NumberP1OnCommand=halign,0;diffuse,JudgeColors["W4"];strokecolor,BoostColor(JudgeColors["W4"],0.35);shadowlength,2
W4NumberP1OffCommand=sleep,0.3;linear,0.25;addx,-SCREEN_WIDTH
W4NumberP2X=SCREEN_CENTER_X+112
W4NumberP2Y=SCREEN_CENTER_Y-20
W4NumberP2OnCommand=halign,0;diffuse,JudgeColors["W4"];strokecolor,BoostColor(JudgeColors["W4"],0.35);shadowlength,2
W4NumberP2OffCommand=sleep,0.3;linear,0.25;addx,SCREEN_WIDTH

W5NumberP1X=SCREEN_CENTER_X-112
W5NumberP1Y=SCREEN_CENTER_Y-10
W5NumberP1OnCommand=halign,0;diffuse,JudgeColors["W5"];strokecolor,BoostColor(JudgeColors["W5"],0.35);shadowlength,2
W5NumberP1OffCommand=sleep,0.25;linear,0.25;addx,-SCREEN_WIDTH
W5NumberP2X=SCREEN_CENTER_X+112
W5NumberP2Y=SCREEN_CENTER_Y-10
W5NumberP2OnCommand=halign,0;diffuse,JudgeColors["W5"];strokecolor,BoostColor(JudgeColors["W5"],0.35);shadowlength,2
W5NumberP2OffCommand=sleep,0.25;linear,0.25;addx,SCREEN_WIDTH

MissNumberP1X=SCREEN_CENTER_X-112
MissNumberP1Y=SCREEN_CENTER_Y
MissNumberP1OnCommand=halign,0;diffuse,JudgeColors["Miss"];strokecolor,BoostColor(JudgeColors["Miss"],0.35);shadowlength,2
MissNumberP1OffCommand=sleep,0.2;linear,0.25;addx,-SCREEN_WIDTH
MissNumberP2X=SCREEN_CENTER_X+112
MissNumberP2Y=SCREEN_CENTER_Y
MissNumberP2OnCommand=halign,0;diffuse,JudgeColors["Miss"];strokecolor,BoostColor(JudgeColors["Miss"],0.35);shadowlength,2
MissNumberP2OffCommand=sleep,0.2;linear,0.25;addx,SCREEN_WIDTH

ScoreNumberP1X=SCREEN_CENTER_X-150
ScoreNumberP1Y=SCREEN_CENTER_Y+90
ScoreNumberP1OnCommand=diffuse,PlayerColor(PLAYER_1);shadowlength,2;zoom,16/32;
ScoreNumberP1OffCommand=linear,0.25;addx,-SCREEN_WIDTH
ScoreNumberP2X=SCREEN_CENTER_X+150
ScoreNumberP2Y=SCREEN_CENTER_Y+90
ScoreNumberP2OnCommand=diffuse,PlayerColor(PLAYER_2);shadowlength,2;zoom,16/32
ScoreNumberP2OffCommand=linear,0.25;addx,SCREEN_WIDTH

DisqualifiedP1X=SCREEN_CENTER_X-150
DisqualifiedP1Y=SCREEN_CENTER_Y+120
DisqualifiedP1OnCommand=
DisqualifiedP1OffCommand=linear,0.25;addx,-SCREEN_WIDTH
DisqualifiedP2X=SCREEN_CENTER_X+150
DisqualifiedP2Y=SCREEN_CENTER_Y+120
DisqualifiedP2OnCommand=
DisqualifiedP2OffCommand=linear,0.25;addx,-SCREEN_WIDTH

### display elements
[RollingNumbersJudgment]
TextFormat="%.0f"
LeadingZeroMultiplyColor=color("#FFFFFF00")

[ScreenEvaluation Percent]
PercentDecimalPlaces=2

# percent score #
FormatPercentScore="%.02f%%"

PercentP1X=0
PercentP1Y=0
PercentP1OnCommand=halign,1;shadowlength,1;diffusebottomedge,color("#DDDDDD")
PercentP2X=0
PercentP2Y=0
PercentP2OnCommand=halign,1;shadowlength,1;diffusebottomedge,color("#DDDDDD")

PercentRemainderP1X=0
PercentRemainderP1Y=-2
PercentRemainderP1OnCommand=halign,0;shadowlength,1;diffusebottomedge,color("#DDDDDD")
PercentRemainderP2X=0
PercentRemainderP2Y=-2
PercentRemainderP2OnCommand=halign,0;shadowlength,1;diffusebottomedge,color("#DDDDDD")

# dance points #
Format=FormatPercentScore
DancePointsP1OnCommand=shadowlength,1;diffusebottom,color("#DDDDDD")
DancePointsP2OnCommand=shadowlength,1;diffusebottom,color("#DDDDDD")
DancePointsDigits=1

########################################
# main options section #
[ScreenSelectGame]
NextScreen=Branch.TitleMenu()
PrevScreen=Branch.TitleMenu()

[ScreenOptionsSimple]
ExplanationTogetherX=SCREEN_CENTER_X
ExplanationTogetherY=SCREEN_CENTER_Y+148
ExplanationTogetherOnCommand=draworder,120;shadowlength,1;zoom,0.75;wrapwidthpixels,(SCREEN_WIDTH*0.9375)*1.25;
ExplanationTogetherOffCommand=stoptweening

[ScreenOptionsService]
ShowHeadText=true
ShowCreditDisplay=false

LineNames="Program,Game,Input,Menus,AV,Sync,Profile,Reload,Credits"

LineProgram="gamecommand;screen,ScreenOptionsProgram;name,Program Options"
LineGame="gamecommand;screen,ScreenOptionsGame;name,Game Options"
LineInput="gamecommand;screen,ScreenOptionsInput;name,Input Options"
LineMenus="gamecommand;screen,ScreenOptionsMenus;name,Menu Options"
LineAV="gamecommand;screen,ScreenOptionsAV;name,Graphics/Sound Options"
LineSync="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
LineProfile="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineReload="gamecommand;screen,ScreenReloadSongs;name,Reload Songs"
LineCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"

# old shit:
LineSystemDirection="gamecommand;screen,ScreenOptionsSystemDirection;name,System Direction"
LineKeyConfig="gamecommand;screen,ScreenMapControllers;name,Key Joy Mappings"
LineGameType="gamecommand;screen,ScreenSelectGame;name,Select Game"
Line6="gamecommand;screen,ScreenNetworkOptions;name,Network Options"
LineMoreOptions="gamecommand;screen,ScreenOptionsExtended;name,More Options"

# for ScreenOptionsExtended:
Line2="gamecommand;screen,ScreenTestInput;name,Test Input"
Line3="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
Line10="gamecommand;screen,ScreenOptionsUI;name,UI Options"
Line11="gamecommand;"
LineTheme="gamecommand;screen,ScreenOptionsTheme;name,Theme Options"

########################################
# sub options sections #
[ScreenOptionsServiceChild]
ShowHeadText=true
ExplanationTogetherY=SCREEN_CENTER_Y+162
ExplanationTogetherOnCommand=draworder,120;shadowlength,1;zoom,(12/24);wrapwidthpixels,(SCREEN_WIDTH*0.9375)*1.5;
ShowCreditDisplay=false

[ScreenOptionsSimpleService]
ShowCreditDisplay=false

[ScreenOptionsProgram]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

LineNames="Langu,Theme,Trans,FasLo,Eggs"
LineLangu="conf,Language"
LineTheme="conf,Theme"
LineTrans="conf,ShowNativeLanguage"
LineFasLo="conf,FastLoad"
LineEggs="conf,EasterEggs"

[ScreenOptionsGame]
Fallback="ScreenOptionsSimpleService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

ShowHeadText=true

LineNames="System,Display"
LineSystem="gamecommand;name,GameSystem;screen,ScreenOptionsGameSystem"
LineDisplay="gamecommand;name,GameDisplay;screen,ScreenOptionsGameDisplay"

ShowScroller=true
PerChoiceScrollElement=false

[ScreenOptionsGameSystem]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsGame"
PrevScreen="ScreenOptionsGame"

LineNames="Judge,Life,Score,PercentScore,AutoSetStyle,ExtraStage"
#,DefaultFail
LineJudge="conf,TimingWindowScale"
LineLife="conf,LifeDifficulty"
LineScore="lua,UserPrefScoringMode()"
LinePercentScore="conf,PercentageScoring"
LineAutoSetStyle="lua,ThemePrefRow('AutoSetStyle')"
LineExtraStage="conf,AllowExtraStage"

[ScreenOptionsGameDisplay]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsGame"
PrevScreen="ScreenOptionsGame"

LineNames="DefaultNoteskin,Center1P,GameplayFooter,Lyrics,Danger,OniScoreDisplay,BGBrightness,BGAMode,NumRandomBGA"
LineDefaultNoteskin="conf,DefaultNoteskin"
LineCenter1P="conf,Center1Player"
LineGameplayFooter="lua,ThemePrefRow('GameplayFooter')"
LineLyrics="conf,ShowLyrics"
LineDanger="conf,ShowDanger"
LineOniScoreDisplay="conf,DancePointsForOni"
LineBGBrightness="conf,BGBrightness"
LineBGAMode="conf,RandomBackgroundMode"
LineNumRandomBGA="conf,NumBackgrounds"

[ScreenOptionsInput]
# not the same as in sm5
Fallback="ScreenOptionsSimpleService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

ShowHeadText=true

LineNames="Config,Test,Other"
#MapCtrls2,
LineConfig="gamecommand;screen,ScreenMapControllers;name,Configure Input Mappings"
LineMapCtrls2="gamecommand;screen,ScreenMapControllers2;name,ScreenMapControllers2"
LineTest="gamecommand;screen,ScreenTestInput;name,Test Input"
LineOther="gamecommand;screen,ScreenOptionsInputOther;name,Other Input Options"

[ScreenMapControllers]
NextScreen="ScreenOptionsInput"
PrevScreen="ScreenOptionsInput"

# everything about this screen is defined in the fallback theme.
[ScreenMapControllers2]
NextScreen="ScreenOptionsInput"
PrevScreen="ScreenOptionsInput"

[ScreenTestInput]
NextScreen="ScreenOptionsInput"
PrevScreen="ScreenOptionsInput"

[ScreenOptionsInputOther]
# pretty much the same as ScreenOptionsInput in sm5.
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsInput"
PrevScreen="ScreenOptionsInput"

LineNames="Automap,MenuButton,DelayedBack,OptionsNav,WheelSpeed"
LineAutomap="conf,AutoMapOnJoyChange"
LineMenuButton="conf,OnlyDedicatedMenuButtons"
LineDelayedBack="conf,DelayedBack"
LineOptionsNav="conf,ArcadeOptionsNavigation"
LineWheelSpeed="conf,MusicWheelSwitchSpeed"

[ScreenOptionsMenus]
# this is an awkward name!
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

#MenuTimer,
LineNames="Banners,WheelSections,SongOptions"
LineBanners="conf,ShowBanners"
LineWheelSections="conf,MusicWheelUsesSections"
LineSongOptions="conf,ShowSongOptions"

[ScreenOptionsAV]
Fallback="ScreenOptionsSimpleService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

ShowHeadText=true

LineNames="Display,Texture,Sound"
LineDisplay="gamecommand;name,AVDisplay;screen,ScreenOptionsAVDisplay"
LineTexture="gamecommand;name,AVTexture;screen,ScreenOptionsAVTexture"
LineSound="gamecommand;name,AVSound;screen,ScreenOptionsAVSound"

[ScreenOptionsAVDisplay]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsAV"
PrevScreen="ScreenOptionsAV"

LineNames="Mode,Resolution,Aspect,Color,Refresh,VSync,VisualDelay,SmoothLines,Stats"
LineMode="conf,Windowed"
LineResolution="conf,DisplayResolution"
LineAspect="conf,DisplayAspectRatio"
LineColor="conf,DisplayColorDepth"
LineRefresh="conf,RefreshRate"
LineVSync="conf,Vsync"
LineVisualDelay="conf,VisualDelaySeconds"
LineSmoothLines="conf,SmoothLines"
LineStats="conf,ShowStats"

[ScreenOptionsAVTexture]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsAV"
PrevScreen="ScreenOptionsAV"

LineNames="Resolution,Color,MovieColor,HighRes,KeepInMem"
LineResolution="conf,MaxTextureResolution"
LineColor="conf,TextureColorDepth"
LineMovieColor="conf,MovieColorDepth"
LineHighRes="conf,HighResolutionTextures"
LineKeepInMem="conf,DelayedTextureDelete"

[ScreenOptionsAVSound]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsAV"
PrevScreen="ScreenOptionsAV"

LineNames="Volume,Attack,Mine"
LineVolume="conf,SoundVolume"
LineAttack="conf,EnableAttackSounds"
LineMine="conf,EnableMineHitSound"

[ScreenOptionsManageProfiles]
ShowHeadText=true

########################################
# service options section #
# I am still unsure how this will differ from the normal home options.

########################################
# temporary screens #
[ScreenPreview1]
Class="ScreenSplash"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenInit"
PrevScreen="ScreenInit"
ShowHeader=false
ShowFooter=false
TimerSeconds=15
TimerStealth=true
ForceTimer=true
AllowStartToSkip=true
PrepareScreen="ScreenInit"
ShowCreditDisplay=false

# end temporary screns #
########################################